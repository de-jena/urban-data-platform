{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport { _ as _defineProperty, d as _toConsumableArray, b as _typeof } from './chunk-455cdeae.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './chunk-17b33cd2.js';\nimport { _ as __vue_normalize__ } from './chunk-cca88db8.js';\nimport { I as Input } from './chunk-72ecb544.js';\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      default: 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      default: 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      default: function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined // Used to append to body\n    };\n  },\n\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n    /**\r\n     * White-listed items to not close when clicked.\r\n     * Add input, dropdown and all children.\r\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown); // Add all children from dropdown\n\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el); // Add .tag and .delete\n\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n        try {\n          for (var _iterator2 = tagInputChildren[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n      return whiteList;\n    },\n    /**\r\n     * Check if exists default slot\r\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots.default;\n    },\n    /**\r\n     * Check if exists group slot\r\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n    /**\r\n     * Check if exists \"empty\" slot\r\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n    /**\r\n     * Check if exists \"header\" slot\r\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n    /**\r\n     * Check if exists \"footer\" slot\r\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n    /**\r\n     * Apply dropdownPosition property\r\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\r\n     * When dropdown is toggled, check the visibility to know when\r\n     * to open upwards.\r\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n    },\n    /**\r\n     * When updating input's value\r\n     *   1. Emit changes\r\n     *   2. If value isn't the same as selected, set null\r\n     *   3. Close dropdown if value is clear or else open it\r\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value); // Check if selected is invalid\n\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      } // Close dropdown if input is clear or else open it\n\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n    /**\r\n     * When v-model is changed:\r\n     *   1. Update internal value.\r\n     *   2. If it's invalid, validate again.\r\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n    /**\r\n     * Select first option if \"keep-first\r\n     */\n    data: function data() {\n      var _this3 = this;\n\n      // Keep first option always pre-selected\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * Set which option is currently hovered.\r\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n    /**\r\n     * Set which option is currently selected, update v-model,\r\n     * update input value and close dropdown.\r\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n        this.setHovered(null);\n      }\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n    /**\r\n     * Select first option\r\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n\n      if (key === 'Enter') event.preventDefault(); // Close dropdown on Tab & no hovered\n\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault(); // Close dropdown on select by Tab\n\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n    /**\r\n     * Check if header or footer was selected.\r\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n    /**\r\n     * Close dropdown if clicked outside.\r\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n    /**\r\n     * Check if the scroll list inside the dropdown\r\n     * reached it's end.\r\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll(list) {\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.clientHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n    /**\r\n     * Calculate if the dropdown is vertically visible when activated,\r\n     * otherwise it is openened upwards.\r\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n      this.$nextTick(function () {\n        /**\r\n         * this.$refs.dropdown may be undefined\r\n         * when Autocomplete is conditional rendered\r\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n    /**\r\n     * Arrows keys listener.\r\n     * If dropdown is active, set hovered option, or else just open.\r\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n        var index;\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n    /**\r\n     * Focus listener.\r\n     * If value is the same as selected, select all text.\r\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n      if (this.openOnFocus) {\n        this.isActive = true;\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n    /**\r\n     * Blur listener.\r\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$refs.input.$el;\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this8 = this;\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', function () {\n        return _this8.checkIfReachedTheEndOfScroll(list);\n      });\n    }\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n  }\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c('div', {\n    staticClass: \"autocomplete control\",\n    class: {\n      'is-expanded': _vm.expanded\n    }\n  }, [_c('b-input', _vm._b({\n    ref: \"input\",\n    attrs: {\n      \"type\": _vm.type,\n      \"size\": _vm.size,\n      \"loading\": _vm.loading,\n      \"rounded\": _vm.rounded,\n      \"icon\": _vm.icon,\n      \"icon-right\": _vm.newIconRight,\n      \"icon-right-clickable\": _vm.newIconRightClickable,\n      \"icon-pack\": _vm.iconPack,\n      \"maxlength\": _vm.maxlength,\n      \"autocomplete\": _vm.newAutocomplete,\n      \"use-html5-validation\": false,\n      \"aria-autocomplete\": _vm.ariaAutocomplete\n    },\n    on: {\n      \"input\": _vm.onInput,\n      \"focus\": _vm.focused,\n      \"blur\": _vm.onBlur,\n      \"icon-right-click\": _vm.rightIconClick,\n      \"icon-click\": function (event) {\n        return _vm.$emit('icon-click', event);\n      }\n    },\n    nativeOn: {\n      \"keydown\": [function ($event) {\n        return _vm.keydown($event);\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"up\", 38, $event.key, [\"Up\", \"ArrowUp\"])) {\n          return null;\n        }\n        $event.preventDefault();\n        return _vm.keyArrows('up');\n      }, function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"down\", 40, $event.key, [\"Down\", \"ArrowDown\"])) {\n          return null;\n        }\n        $event.preventDefault();\n        return _vm.keyArrows('down');\n      }]\n    },\n    model: {\n      value: _vm.newValue,\n      callback: function ($$v) {\n        _vm.newValue = $$v;\n      },\n      expression: \"newValue\"\n    }\n  }, 'b-input', _vm.$attrs, false)), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot),\n      expression: \"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot)\"\n    }],\n    ref: \"dropdown\",\n    staticClass: \"dropdown-menu\",\n    class: {\n      'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody\n    },\n    style: _vm.style\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isActive,\n      expression: \"isActive\"\n    }],\n    staticClass: \"dropdown-content\",\n    style: _vm.contentStyle\n  }, [_vm.hasHeaderSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-header\",\n    class: {\n      'is-hovered': _vm.headerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'header');\n      }\n    }\n  }, [_vm._t(\"header\")], 2) : _vm._e(), _vm._l(_vm.computedData, function (element, groupindex) {\n    return [element.group ? _c('div', {\n      key: groupindex + 'group',\n      staticClass: \"dropdown-item\"\n    }, [_vm.hasGroupSlot ? _vm._t(\"group\", null, {\n      \"group\": element.group,\n      \"index\": groupindex\n    }) : _c('span', {\n      staticClass: \"has-text-weight-bold\"\n    }, [_vm._v(\" \" + _vm._s(element.group) + \" \")])], 2) : _vm._e(), _vm._l(element.items, function (option, index) {\n      return _c('a', {\n        key: groupindex + ':' + index,\n        staticClass: \"dropdown-item\",\n        class: {\n          'is-hovered': option === _vm.hovered\n        },\n        attrs: {\n          \"role\": \"button\",\n          \"tabindex\": \"0\"\n        },\n        on: {\n          \"click\": function ($event) {\n            $event.stopPropagation();\n            return _vm.setSelected(option, !_vm.keepOpen, $event);\n          }\n        }\n      }, [_vm.hasDefaultSlot ? _vm._t(\"default\", null, {\n        \"option\": option,\n        \"index\": index\n      }) : _c('span', [_vm._v(\" \" + _vm._s(_vm.getValue(option, true)) + \" \")])], 2);\n    })];\n  }), _vm.isEmpty && _vm.hasEmptySlot ? _c('div', {\n    staticClass: \"dropdown-item is-disabled\"\n  }, [_vm._t(\"empty\")], 2) : _vm._e(), _vm.hasFooterSlot ? _c('div', {\n    staticClass: \"dropdown-item dropdown-footer\",\n    class: {\n      'is-hovered': _vm.footerHovered\n    },\n    attrs: {\n      \"role\": \"button\",\n      \"tabindex\": \"0\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.selectHeaderOrFoterByClick($event, 'footer');\n      }\n    }\n  }, [_vm._t(\"footer\")], 2) : _vm._e()], 2)])])], 1);\n};\nvar __vue_staticRenderFns__ = [];\n\n/* style */\nconst __vue_inject_styles__ = undefined;\n/* scoped */\nconst __vue_scope_id__ = undefined;\n/* module identifier */\nconst __vue_module_identifier__ = undefined;\n/* functional template */\nconst __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\nvar Autocomplete = __vue_normalize__({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\nexport { Autocomplete as A };","map":{"version":3,"names":["_","_defineProperty","d","_toConsumableArray","b","_typeof","getValueByPath","toCssWidth","isCustomElement","createAbsoluteElement","removeElement","F","FormElementMixin","__vue_normalize__","I","Input","script","name","components","mixins","inheritAttrs","props","value","Number","String","data","type","Array","default","_default","field","keepFirst","Boolean","clearOnSelect","openOnFocus","customFormatter","Function","checkInfiniteScroll","keepOpen","selectOnClickOutside","clearable","maxHeight","dropdownPosition","groupField","groupOptions","iconRight","iconRightClickable","appendToBody","confirmKeys","selectableHeader","selectableFooter","selected","hovered","headerHovered","footerHovered","isActive","newValue","newAutocomplete","autocomplete","ariaAutocomplete","isListInViewportVertically","hasFocus","style","_isAutocomplete","_elementRef","_bodyEl","undefined","computed","computedData","_this","newData","forEach","option","group","items","push","tmp","_newData","Object","keys","isEmpty","some","element","length","whiteList","$refs","input","$el","querySelector","dropdown","children","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","next","done","child","err","return","$parent","$data","_isTaginput","tagInputChildren","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","tagInputChild","hasDefaultSlot","$scopedSlots","hasGroupSlot","hasEmptySlot","$slots","empty","hasHeaderSlot","header","hasFooterSlot","footer","isOpenedTop","newIconRight","newIconRightClickable","contentStyle","watch","active","_this2","calcDropdownInViewportVertical","setTimeout","$emit","currentValue","getValue","setSelected","_value","_this3","$nextTick","selectFirstOption","setHovered","hoveredValue","map","reduce","a","concat","methods","_this4","closeDropdown","arguments","event","checkValidity","_this5","nonEmptyElements","filter","keydown","key","preventDefault","indexOf","checkIfHeaderOrFooterSelected","selectHeaderOrFoterByClick","origin","triggerClick","clickedOutside","target","composedPath","checkIfReachedTheEndOfScroll","list","clientHeight","scrollHeight","scrollTop","_this6","rect","getBoundingClientRect","top","bottom","window","innerHeight","document","documentElement","updateAppendToBody","keyArrows","direction","sum","unshift","index","querySelectorText","visMin","visMax","offsetTop","focused","select","onBlur","onInput","rightIconClick","focus","_this7","useHtml5Validation","checkHtml5Validity","dropdownMenu","trigger","root","classList","item","remove","add","expandend","scrollY","left","scrollX","position","width","clientWidth","maxWidth","zIndex","created","addEventListener","mounted","_this8","beforeDestroy","removeEventListener","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","staticClass","class","expanded","_b","ref","attrs","size","loading","rounded","icon","iconPack","maxlength","on","nativeOn","$event","_k","keyCode","model","callback","$$v","expression","$attrs","directives","rawName","_t","_e","_l","groupindex","_v","_s","stopPropagation","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","Autocomplete","render","staticRenderFns","A"],"sources":["/home/markus/dev/org.eclipse.sensinact.gateway/prototype/webclient/node_modules/buefy/dist/esm/chunk-abcf9a94.js"],"sourcesContent":["import { _ as _defineProperty, d as _toConsumableArray, b as _typeof } from './chunk-455cdeae.js';\nimport { getValueByPath, toCssWidth, isCustomElement, createAbsoluteElement, removeElement } from './helpers.js';\nimport { F as FormElementMixin } from './chunk-17b33cd2.js';\nimport { _ as __vue_normalize__ } from './chunk-cca88db8.js';\nimport { I as Input } from './chunk-72ecb544.js';\n\nvar script = {\n  name: 'BAutocomplete',\n  components: _defineProperty({}, Input.name, Input),\n  mixins: [FormElementMixin],\n  inheritAttrs: false,\n  props: {\n    value: [Number, String],\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    field: {\n      type: String,\n      default: 'value'\n    },\n    keepFirst: Boolean,\n    clearOnSelect: Boolean,\n    openOnFocus: Boolean,\n    customFormatter: Function,\n    checkInfiniteScroll: Boolean,\n    keepOpen: Boolean,\n    selectOnClickOutside: Boolean,\n    clearable: Boolean,\n    maxHeight: [String, Number],\n    dropdownPosition: {\n      type: String,\n      default: 'auto'\n    },\n    groupField: String,\n    groupOptions: String,\n    iconRight: String,\n    iconRightClickable: Boolean,\n    appendToBody: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    },\n    confirmKeys: {\n      type: Array,\n      default: function _default() {\n        return ['Tab', 'Enter'];\n      }\n    },\n    selectableHeader: Boolean,\n    selectableFooter: Boolean\n  },\n  data: function data() {\n    return {\n      selected: null,\n      hovered: null,\n      headerHovered: null,\n      footerHovered: null,\n      isActive: false,\n      newValue: this.value,\n      newAutocomplete: this.autocomplete || 'off',\n      ariaAutocomplete: this.keepFirst ? 'both' : 'list',\n      isListInViewportVertically: true,\n      hasFocus: false,\n      style: {},\n      _isAutocomplete: true,\n      _elementRef: 'input',\n      _bodyEl: undefined // Used to append to body\n\n    };\n  },\n  computed: {\n    computedData: function computedData() {\n      var _this = this;\n\n      if (this.groupField) {\n        if (this.groupOptions) {\n          var newData = [];\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            var items = getValueByPath(option, _this.groupOptions);\n            newData.push({\n              group: group,\n              items: items\n            });\n          });\n          return newData;\n        } else {\n          var tmp = {};\n          this.data.forEach(function (option) {\n            var group = getValueByPath(option, _this.groupField);\n            if (!tmp[group]) tmp[group] = [];\n            tmp[group].push(option);\n          });\n          var _newData = [];\n          Object.keys(tmp).forEach(function (group) {\n            _newData.push({\n              group: group,\n              items: tmp[group]\n            });\n          });\n          return _newData;\n        }\n      }\n\n      return [{\n        items: this.data\n      }];\n    },\n    isEmpty: function isEmpty() {\n      if (!this.computedData) return true;\n      return !this.computedData.some(function (element) {\n        return element.items && element.items.length;\n      });\n    },\n\n    /**\r\n     * White-listed items to not close when clicked.\r\n     * Add input, dropdown and all children.\r\n     */\n    whiteList: function whiteList() {\n      var whiteList = [];\n      whiteList.push(this.$refs.input.$el.querySelector('input'));\n      whiteList.push(this.$refs.dropdown); // Add all children from dropdown\n\n      if (this.$refs.dropdown !== undefined) {\n        var children = this.$refs.dropdown.querySelectorAll('*');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var child = _step.value;\n            whiteList.push(child);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (this.$parent.$data._isTaginput) {\n        // Add taginput container\n        whiteList.push(this.$parent.$el); // Add .tag and .delete\n\n        var tagInputChildren = this.$parent.$el.querySelectorAll('*');\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = tagInputChildren[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var tagInputChild = _step2.value;\n            whiteList.push(tagInputChild);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return whiteList;\n    },\n\n    /**\r\n     * Check if exists default slot\r\n     */\n    hasDefaultSlot: function hasDefaultSlot() {\n      return !!this.$scopedSlots.default;\n    },\n\n    /**\r\n     * Check if exists group slot\r\n     */\n    hasGroupSlot: function hasGroupSlot() {\n      return !!this.$scopedSlots.group;\n    },\n\n    /**\r\n     * Check if exists \"empty\" slot\r\n     */\n    hasEmptySlot: function hasEmptySlot() {\n      return !!this.$slots.empty;\n    },\n\n    /**\r\n     * Check if exists \"header\" slot\r\n     */\n    hasHeaderSlot: function hasHeaderSlot() {\n      return !!this.$slots.header;\n    },\n\n    /**\r\n     * Check if exists \"footer\" slot\r\n     */\n    hasFooterSlot: function hasFooterSlot() {\n      return !!this.$slots.footer;\n    },\n\n    /**\r\n     * Apply dropdownPosition property\r\n     */\n    isOpenedTop: function isOpenedTop() {\n      return this.dropdownPosition === 'top' || this.dropdownPosition === 'auto' && !this.isListInViewportVertically;\n    },\n    newIconRight: function newIconRight() {\n      if (this.clearable && this.newValue) {\n        return 'close-circle';\n      }\n\n      return this.iconRight;\n    },\n    newIconRightClickable: function newIconRightClickable() {\n      if (this.clearable) {\n        return true;\n      }\n\n      return this.iconRightClickable;\n    },\n    contentStyle: function contentStyle() {\n      return {\n        maxHeight: toCssWidth(this.maxHeight)\n      };\n    }\n  },\n  watch: {\n    /**\r\n     * When dropdown is toggled, check the visibility to know when\r\n     * to open upwards.\r\n     */\n    isActive: function isActive(active) {\n      var _this2 = this;\n\n      if (this.dropdownPosition === 'auto') {\n        if (active) {\n          this.calcDropdownInViewportVertical();\n        } else {\n          // Timeout to wait for the animation to finish before recalculating\n          setTimeout(function () {\n            _this2.calcDropdownInViewportVertical();\n          }, 100);\n        }\n      }\n    },\n\n    /**\r\n     * When updating input's value\r\n     *   1. Emit changes\r\n     *   2. If value isn't the same as selected, set null\r\n     *   3. Close dropdown if value is clear or else open it\r\n     */\n    newValue: function newValue(value) {\n      this.$emit('input', value); // Check if selected is invalid\n\n      var currentValue = this.getValue(this.selected);\n\n      if (currentValue && currentValue !== value) {\n        this.setSelected(null, false);\n      } // Close dropdown if input is clear or else open it\n\n\n      if (this.hasFocus && (!this.openOnFocus || value)) {\n        this.isActive = !!value;\n      }\n    },\n\n    /**\r\n     * When v-model is changed:\r\n     *   1. Update internal value.\r\n     *   2. If it's invalid, validate again.\r\n     */\n    value: function value(_value) {\n      this.newValue = _value;\n    },\n\n    /**\r\n     * Select first option if \"keep-first\r\n     */\n    data: function data() {\n      var _this3 = this;\n\n      // Keep first option always pre-selected\n      if (this.keepFirst) {\n        this.$nextTick(function () {\n          if (_this3.isActive) {\n            _this3.selectFirstOption(_this3.computedData);\n          } else {\n            _this3.setHovered(null);\n          }\n        });\n      } else {\n        if (this.hovered) {\n          // reset hovered if list doesn't contain it\n          var hoveredValue = this.getValue(this.hovered);\n          var data = this.computedData.map(function (d) {\n            return d.items;\n          }).reduce(function (a, b) {\n            return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n          }, []);\n\n          if (!data.some(function (d) {\n            return _this3.getValue(d) === hoveredValue;\n          })) {\n            this.setHovered(null);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * Set which option is currently hovered.\r\n     */\n    setHovered: function setHovered(option) {\n      if (option === undefined) return;\n      this.hovered = option;\n    },\n\n    /**\r\n     * Set which option is currently selected, update v-model,\r\n     * update input value and close dropdown.\r\n     */\n    setSelected: function setSelected(option) {\n      var _this4 = this;\n\n      var closeDropdown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      if (option === undefined) return;\n      this.selected = option;\n      this.$emit('select', this.selected, event);\n\n      if (this.selected !== null) {\n        if (this.clearOnSelect) {\n          var input = this.$refs.input;\n          input.newValue = '';\n          input.$refs.input.value = '';\n        } else {\n          this.newValue = this.getValue(this.selected);\n        }\n\n        this.setHovered(null);\n      }\n\n      closeDropdown && this.$nextTick(function () {\n        _this4.isActive = false;\n      });\n      this.checkValidity();\n    },\n\n    /**\r\n     * Select first option\r\n     */\n    selectFirstOption: function selectFirstOption(computedData) {\n      var _this5 = this;\n\n      this.$nextTick(function () {\n        var nonEmptyElements = computedData.filter(function (element) {\n          return element.items && element.items.length;\n        });\n\n        if (nonEmptyElements.length) {\n          var option = nonEmptyElements[0].items[0];\n\n          _this5.setHovered(option);\n        } else {\n          _this5.setHovered(null);\n        }\n      });\n    },\n    keydown: function keydown(event) {\n      var key = event.key; // cannot destructure preventDefault (https://stackoverflow.com/a/49616808/2774496)\n      // prevent emit submit event\n\n      if (key === 'Enter') event.preventDefault(); // Close dropdown on Tab & no hovered\n\n      if (key === 'Escape' || key === 'Tab') {\n        this.isActive = false;\n      }\n\n      if (this.confirmKeys.indexOf(key) >= 0) {\n        // If adding by comma, don't add the comma to the input\n        if (key === ',') event.preventDefault(); // Close dropdown on select by Tab\n\n        var closeDropdown = !this.keepOpen || key === 'Tab';\n\n        if (this.hovered === null) {\n          // header and footer uses headerHovered && footerHovered. If header or footer\n          // was selected then fire event otherwise just return so a value isn't selected\n          this.checkIfHeaderOrFooterSelected(event, null, closeDropdown);\n          return;\n        }\n\n        this.setSelected(this.hovered, closeDropdown, event);\n      }\n    },\n    selectHeaderOrFoterByClick: function selectHeaderOrFoterByClick(event, origin) {\n      this.checkIfHeaderOrFooterSelected(event, {\n        origin: origin\n      });\n    },\n\n    /**\r\n     * Check if header or footer was selected.\r\n     */\n    checkIfHeaderOrFooterSelected: function checkIfHeaderOrFooterSelected(event, triggerClick) {\n      var closeDropdown = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (this.selectableHeader && (this.headerHovered || triggerClick && triggerClick.origin === 'header')) {\n        this.$emit('select-header', event);\n        this.headerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n\n      if (this.selectableFooter && (this.footerHovered || triggerClick && triggerClick.origin === 'footer')) {\n        this.$emit('select-footer', event);\n        this.footerHovered = false;\n        if (triggerClick) this.setHovered(null);\n        if (closeDropdown) this.isActive = false;\n      }\n    },\n\n    /**\r\n     * Close dropdown if clicked outside.\r\n     */\n    clickedOutside: function clickedOutside(event) {\n      var target = isCustomElement(this) ? event.composedPath()[0] : event.target;\n\n      if (!this.hasFocus && this.whiteList.indexOf(target) < 0) {\n        if (this.keepFirst && this.hovered && this.selectOnClickOutside) {\n          this.setSelected(this.hovered, true);\n        } else {\n          this.isActive = false;\n        }\n      }\n    },\n\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\n    getValue: function getValue(option) {\n      if (option === null) return;\n\n      if (typeof this.customFormatter !== 'undefined') {\n        return this.customFormatter(option);\n      }\n\n      return _typeof(option) === 'object' ? getValueByPath(option, this.field) : option;\n    },\n\n    /**\r\n     * Check if the scroll list inside the dropdown\r\n     * reached it's end.\r\n     */\n    checkIfReachedTheEndOfScroll: function checkIfReachedTheEndOfScroll(list) {\n      if (list.clientHeight !== list.scrollHeight && list.scrollTop + list.clientHeight >= list.scrollHeight) {\n        this.$emit('infinite-scroll');\n      }\n    },\n\n    /**\r\n     * Calculate if the dropdown is vertically visible when activated,\r\n     * otherwise it is openened upwards.\r\n     */\n    calcDropdownInViewportVertical: function calcDropdownInViewportVertical() {\n      var _this6 = this;\n\n      this.$nextTick(function () {\n        /**\r\n         * this.$refs.dropdown may be undefined\r\n         * when Autocomplete is conditional rendered\r\n         */\n        if (_this6.$refs.dropdown === undefined) return;\n\n        var rect = _this6.$refs.dropdown.getBoundingClientRect();\n\n        _this6.isListInViewportVertically = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n\n        if (_this6.appendToBody) {\n          _this6.updateAppendToBody();\n        }\n      });\n    },\n\n    /**\r\n     * Arrows keys listener.\r\n     * If dropdown is active, set hovered option, or else just open.\r\n     */\n    keyArrows: function keyArrows(direction) {\n      var sum = direction === 'down' ? 1 : -1;\n\n      if (this.isActive) {\n        var data = this.computedData.map(function (d) {\n          return d.items;\n        }).reduce(function (a, b) {\n          return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n        }, []);\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          data.unshift(undefined);\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          data.push(undefined);\n        }\n\n        var index;\n\n        if (this.headerHovered) {\n          index = 0 + sum;\n        } else if (this.footerHovered) {\n          index = data.length - 1 + sum;\n        } else {\n          index = data.indexOf(this.hovered) + sum;\n        }\n\n        index = index > data.length - 1 ? data.length - 1 : index;\n        index = index < 0 ? 0 : index;\n        this.footerHovered = false;\n        this.headerHovered = false;\n        this.setHovered(data[index] !== undefined ? data[index] : null);\n\n        if (this.hasFooterSlot && this.selectableFooter && index === data.length - 1) {\n          this.footerHovered = true;\n        }\n\n        if (this.hasHeaderSlot && this.selectableHeader && index === 0) {\n          this.headerHovered = true;\n        }\n\n        var list = this.$refs.dropdown.querySelector('.dropdown-content');\n        var querySelectorText = 'a.dropdown-item:not(.is-disabled)';\n\n        if (this.hasHeaderSlot && this.selectableHeader) {\n          querySelectorText += ',div.dropdown-header';\n        }\n\n        if (this.hasFooterSlot && this.selectableFooter) {\n          querySelectorText += ',div.dropdown-footer';\n        }\n\n        var element = list.querySelectorAll(querySelectorText)[index];\n        if (!element) return;\n        var visMin = list.scrollTop;\n        var visMax = list.scrollTop + list.clientHeight - element.clientHeight;\n\n        if (element.offsetTop < visMin) {\n          list.scrollTop = element.offsetTop;\n        } else if (element.offsetTop >= visMax) {\n          list.scrollTop = element.offsetTop - list.clientHeight + element.clientHeight;\n        }\n      } else {\n        this.isActive = true;\n      }\n    },\n\n    /**\r\n     * Focus listener.\r\n     * If value is the same as selected, select all text.\r\n     */\n    focused: function focused(event) {\n      if (this.getValue(this.selected) === this.newValue) {\n        this.$el.querySelector('input').select();\n      }\n\n      if (this.openOnFocus) {\n        this.isActive = true;\n\n        if (this.keepFirst) {\n          // If open on focus, update the hovered\n          this.selectFirstOption(this.computedData);\n        }\n      }\n\n      this.hasFocus = true;\n      this.$emit('focus', event);\n    },\n\n    /**\r\n     * Blur listener.\r\n     */\n    onBlur: function onBlur(event) {\n      this.hasFocus = false;\n      this.$emit('blur', event);\n    },\n    onInput: function onInput() {\n      var currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue === this.newValue) return;\n      this.$emit('typing', this.newValue);\n      this.checkValidity();\n    },\n    rightIconClick: function rightIconClick(event) {\n      if (this.clearable) {\n        this.newValue = '';\n        this.setSelected(null, false);\n\n        if (this.openOnFocus) {\n          this.$refs.input.$el.focus();\n        }\n      } else {\n        this.$emit('icon-right-click', event);\n      }\n    },\n    checkValidity: function checkValidity() {\n      var _this7 = this;\n\n      if (this.useHtml5Validation) {\n        this.$nextTick(function () {\n          _this7.checkHtml5Validity();\n        });\n      }\n    },\n    updateAppendToBody: function updateAppendToBody() {\n      var dropdownMenu = this.$refs.dropdown;\n      var trigger = this.$refs.input.$el;\n\n      if (dropdownMenu && trigger) {\n        // update wrapper dropdown\n        var root = this.$data._bodyEl;\n        root.classList.forEach(function (item) {\n          return root.classList.remove(item);\n        });\n        root.classList.add('autocomplete');\n        root.classList.add('control');\n\n        if (this.expandend) {\n          root.classList.add('is-expandend');\n        }\n\n        var rect = trigger.getBoundingClientRect();\n        var top = rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n\n        if (!this.isOpenedTop) {\n          top += trigger.clientHeight;\n        } else {\n          top -= dropdownMenu.clientHeight;\n        }\n\n        this.style = {\n          position: 'absolute',\n          top: \"\".concat(top, \"px\"),\n          left: \"\".concat(left, \"px\"),\n          width: \"\".concat(trigger.clientWidth, \"px\"),\n          maxWidth: \"\".concat(trigger.clientWidth, \"px\"),\n          zIndex: '99'\n        };\n      }\n    }\n  },\n  created: function created() {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.addEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this8 = this;\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.addEventListener('scroll', function () {\n        return _this8.checkIfReachedTheEndOfScroll(list);\n      });\n    }\n\n    if (this.appendToBody) {\n      this.$data._bodyEl = createAbsoluteElement(this.$refs.dropdown);\n      this.updateAppendToBody();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('click', this.clickedOutside);\n\n      if (this.dropdownPosition === 'auto') {\n        window.removeEventListener('resize', this.calcDropdownInViewportVertical);\n      }\n    }\n\n    if (this.checkInfiniteScroll && this.$refs.dropdown && this.$refs.dropdown.querySelector('.dropdown-content')) {\n      var list = this.$refs.dropdown.querySelector('.dropdown-content');\n      list.removeEventListener('scroll', this.checkIfReachedTheEndOfScroll);\n    }\n\n    if (this.appendToBody) {\n      removeElement(this.$data._bodyEl);\n    }\n  }\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"autocomplete control\",class:{ 'is-expanded': _vm.expanded }},[_c('b-input',_vm._b({ref:\"input\",attrs:{\"type\":_vm.type,\"size\":_vm.size,\"loading\":_vm.loading,\"rounded\":_vm.rounded,\"icon\":_vm.icon,\"icon-right\":_vm.newIconRight,\"icon-right-clickable\":_vm.newIconRightClickable,\"icon-pack\":_vm.iconPack,\"maxlength\":_vm.maxlength,\"autocomplete\":_vm.newAutocomplete,\"use-html5-validation\":false,\"aria-autocomplete\":_vm.ariaAutocomplete},on:{\"input\":_vm.onInput,\"focus\":_vm.focused,\"blur\":_vm.onBlur,\"icon-right-click\":_vm.rightIconClick,\"icon-click\":function (event) { return _vm.$emit('icon-click', event); }},nativeOn:{\"keydown\":[function($event){return _vm.keydown($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.keyArrows('up')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.keyArrows('down')}]},model:{value:(_vm.newValue),callback:function ($$v) {_vm.newValue=$$v;},expression:\"newValue\"}},'b-input',_vm.$attrs,false)),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive && (!_vm.isEmpty || _vm.hasEmptySlot || _vm.hasHeaderSlot)),expression:\"isActive && (!isEmpty || hasEmptySlot || hasHeaderSlot)\"}],ref:\"dropdown\",staticClass:\"dropdown-menu\",class:{ 'is-opened-top': _vm.isOpenedTop && !_vm.appendToBody },style:(_vm.style)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],staticClass:\"dropdown-content\",style:(_vm.contentStyle)},[(_vm.hasHeaderSlot)?_c('div',{staticClass:\"dropdown-item dropdown-header\",class:{ 'is-hovered': _vm.headerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'header')}}},[_vm._t(\"header\")],2):_vm._e(),_vm._l((_vm.computedData),function(element,groupindex){return [(element.group)?_c('div',{key:groupindex + 'group',staticClass:\"dropdown-item\"},[(_vm.hasGroupSlot)?_vm._t(\"group\",null,{\"group\":element.group,\"index\":groupindex}):_c('span',{staticClass:\"has-text-weight-bold\"},[_vm._v(\" \"+_vm._s(element.group)+\" \")])],2):_vm._e(),_vm._l((element.items),function(option,index){return _c('a',{key:groupindex + ':' + index,staticClass:\"dropdown-item\",class:{ 'is-hovered': option === _vm.hovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.setSelected(option, !_vm.keepOpen, $event)}}},[(_vm.hasDefaultSlot)?_vm._t(\"default\",null,{\"option\":option,\"index\":index}):_c('span',[_vm._v(\" \"+_vm._s(_vm.getValue(option, true))+\" \")])],2)})]}),(_vm.isEmpty && _vm.hasEmptySlot)?_c('div',{staticClass:\"dropdown-item is-disabled\"},[_vm._t(\"empty\")],2):_vm._e(),(_vm.hasFooterSlot)?_c('div',{staticClass:\"dropdown-item dropdown-footer\",class:{ 'is-hovered': _vm.footerHovered },attrs:{\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectHeaderOrFoterByClick($event, 'footer')}}},[_vm._t(\"footer\")],2):_vm._e()],2)])])],1)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n\n  \n  var Autocomplete = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    undefined,\n    undefined\n  );\n\nexport { Autocomplete as A };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}