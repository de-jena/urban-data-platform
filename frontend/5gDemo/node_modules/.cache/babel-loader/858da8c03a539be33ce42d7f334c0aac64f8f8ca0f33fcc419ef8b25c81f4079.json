{"ast":null,"code":"import { setOptions } from 'leaflet';\nexport const debounce = (fn, time) => {\n  let timeout;\n  const debouncedFunction = function (...args) {\n    const context = this;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      fn.apply(context, args);\n      timeout = null;\n    }, time);\n  };\n  debouncedFunction.cancel = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  };\n  return debouncedFunction;\n};\nexport const capitalizeFirstLetter = string => {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\nexport const propsBinder = (vueElement, leafletElement, props, options) => {\n  for (const key in props) {\n    const setMethodName = 'set' + capitalizeFirstLetter(key);\n    const deepValue = props[key].type === Object || props[key].type === Array || Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(key, (newVal, oldVal) => {\n        vueElement[setMethodName](newVal, oldVal);\n      }, {\n        deep: deepValue\n      });\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(key, (newVal, oldVal) => {\n        setOptions(leafletElement, newVal);\n      }, {\n        deep: deepValue\n      });\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(key, (newVal, oldVal) => {\n        leafletElement[setMethodName](newVal);\n      }, {\n        deep: deepValue\n      });\n    }\n  }\n};\nexport const collectionCleaner = options => {\n  const result = {};\n  for (const key in options) {\n    const value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\nexport const optionsMerger = (props, instance) => {\n  const options = instance.options && instance.options.constructor === Object ? instance.options : {};\n  props = props && props.constructor === Object ? props : {};\n  const result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  const defaultProps = instance.$options.props;\n  for (const key in props) {\n    const def = defaultProps[key] ? defaultProps[key].default && typeof defaultProps[key].default === 'function' ? defaultProps[key].default.call() : defaultProps[key].default : Symbol('unique');\n    let isEqual = false;\n    if (Array.isArray(def)) {\n      isEqual = JSON.stringify(def) === JSON.stringify(props[key]);\n    } else {\n      isEqual = def === props[key];\n    }\n    if (result[key] && !isEqual) {\n      console.warn(`${key} props is overriding the value passed in the options props`);\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\nexport const findRealParent = firstVueParent => {\n  let found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};","map":{"version":3,"names":["setOptions","debounce","fn","time","timeout","debouncedFunction","args","context","clearTimeout","setTimeout","apply","cancel","capitalizeFirstLetter","string","charAt","toUpperCase","slice","propsBinder","vueElement","leafletElement","props","options","key","setMethodName","deepValue","type","Object","Array","isArray","custom","$watch","newVal","oldVal","deep","collectionCleaner","result","value","undefined","optionsMerger","instance","constructor","defaultProps","$options","def","default","call","Symbol","isEqual","JSON","stringify","console","warn","findRealParent","firstVueParent","found","mapObject","$parent"],"sources":["/home/markus/dev/org.eclipse.sensinact.gateway/prototype/webclient/node_modules/vue2-leaflet/src/utils/utils.js"],"sourcesContent":["import { setOptions } from 'leaflet';\n\nexport const debounce = (fn, time) => {\n  let timeout;\n\n  const debouncedFunction = function(...args) {\n    const context = this;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      fn.apply(context, args);\n      timeout = null;\n    }, time);\n  };\n\n  debouncedFunction.cancel = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  };\n\n  return debouncedFunction;\n};\n\nexport const capitalizeFirstLetter = string => {\n  if (!string || typeof string.charAt !== 'function') {\n    return string;\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nexport const propsBinder = (vueElement, leafletElement, props, options) => {\n  for (const key in props) {\n    const setMethodName = 'set' + capitalizeFirstLetter(key);\n    const deepValue =\n      props[key].type === Object ||\n      props[key].type === Array ||\n      Array.isArray(props[key].type);\n    if (props[key].custom && vueElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        (newVal, oldVal) => {\n          vueElement[setMethodName](newVal, oldVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (setMethodName === 'setOptions') {\n      vueElement.$watch(\n        key,\n        (newVal, oldVal) => {\n          setOptions(leafletElement, newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    } else if (leafletElement[setMethodName]) {\n      vueElement.$watch(\n        key,\n        (newVal, oldVal) => {\n          leafletElement[setMethodName](newVal);\n        },\n        {\n          deep: deepValue,\n        }\n      );\n    }\n  }\n};\n\nexport const collectionCleaner = options => {\n  const result = {};\n  for (const key in options) {\n    const value = options[key];\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n};\n\nexport const optionsMerger = (props, instance) => {\n  const options =\n    instance.options && instance.options.constructor === Object\n      ? instance.options\n      : {};\n  props = props && props.constructor === Object ? props : {};\n  const result = collectionCleaner(options);\n  props = collectionCleaner(props);\n  const defaultProps = instance.$options.props;\n  for (const key in props) {\n    const def = defaultProps[key]\n      ? defaultProps[key].default &&\n        typeof defaultProps[key].default === 'function'\n        ? defaultProps[key].default.call()\n        : defaultProps[key].default\n      : Symbol('unique');\n    let isEqual = false;\n    if (Array.isArray(def)) {\n      isEqual = JSON.stringify(def) === JSON.stringify(props[key]);\n    } else {\n      isEqual = def === props[key];\n    }\n    if (result[key] && !isEqual) {\n      console.warn(\n        `${key} props is overriding the value passed in the options props`\n      );\n      result[key] = props[key];\n    } else if (!result[key]) {\n      result[key] = props[key];\n    }\n  }\n  return result;\n};\n\nexport const findRealParent = firstVueParent => {\n  let found = false;\n  while (firstVueParent && !found) {\n    if (firstVueParent.mapObject === undefined) {\n      firstVueParent = firstVueParent.$parent;\n    } else {\n      found = true;\n    }\n  }\n  return firstVueParent;\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,SAAS;AAEpC,OAAO,MAAMC,QAAQ,GAAG,CAACC,EAAE,EAAEC,IAAI,KAAK;EACpC,IAAIC,OAAO;EAEX,MAAMC,iBAAiB,GAAG,UAAS,GAAGC,IAAI,EAAE;IAC1C,MAAMC,OAAO,GAAG,IAAI;IACpB,IAAIH,OAAO,EAAE;MACXI,YAAY,CAACJ,OAAO,CAAC;IACvB;IACAA,OAAO,GAAGK,UAAU,CAAC,MAAM;MACzBP,EAAE,CAACQ,KAAK,CAACH,OAAO,EAAED,IAAI,CAAC;MACvBF,OAAO,GAAG,IAAI;IAChB,CAAC,EAAED,IAAI,CAAC;EACV,CAAC;EAEDE,iBAAiB,CAACM,MAAM,GAAG,YAAW;IACpC,IAAIP,OAAO,EAAE;MACXI,YAAY,CAACJ,OAAO,CAAC;IACvB;EACF,CAAC;EAED,OAAOC,iBAAiB;AAC1B,CAAC;AAED,OAAO,MAAMO,qBAAqB,GAAGC,MAAM,IAAI;EAC7C,IAAI,CAACA,MAAM,IAAI,OAAOA,MAAM,CAACC,MAAM,KAAK,UAAU,EAAE;IAClD,OAAOD,MAAM;EACf;EACA,OAAOA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;AACzD,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,CAACC,UAAU,EAAEC,cAAc,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACzE,KAAK,MAAMC,GAAG,IAAIF,KAAK,EAAE;IACvB,MAAMG,aAAa,GAAG,KAAK,GAAGX,qBAAqB,CAACU,GAAG,CAAC;IACxD,MAAME,SAAS,GACbJ,KAAK,CAACE,GAAG,CAAC,CAACG,IAAI,KAAKC,MAAM,IAC1BN,KAAK,CAACE,GAAG,CAAC,CAACG,IAAI,KAAKE,KAAK,IACzBA,KAAK,CAACC,OAAO,CAACR,KAAK,CAACE,GAAG,CAAC,CAACG,IAAI,CAAC;IAChC,IAAIL,KAAK,CAACE,GAAG,CAAC,CAACO,MAAM,IAAIX,UAAU,CAACK,aAAa,CAAC,EAAE;MAClDL,UAAU,CAACY,MAAM,CACfR,GAAG,EACH,CAACS,MAAM,EAAEC,MAAM,KAAK;QAClBd,UAAU,CAACK,aAAa,CAAC,CAACQ,MAAM,EAAEC,MAAM,CAAC;MAC3C,CAAC,EACD;QACEC,IAAI,EAAET;MACR,CAAC,CACF;IACH,CAAC,MAAM,IAAID,aAAa,KAAK,YAAY,EAAE;MACzCL,UAAU,CAACY,MAAM,CACfR,GAAG,EACH,CAACS,MAAM,EAAEC,MAAM,KAAK;QAClBhC,UAAU,CAACmB,cAAc,EAAEY,MAAM,CAAC;MACpC,CAAC,EACD;QACEE,IAAI,EAAET;MACR,CAAC,CACF;IACH,CAAC,MAAM,IAAIL,cAAc,CAACI,aAAa,CAAC,EAAE;MACxCL,UAAU,CAACY,MAAM,CACfR,GAAG,EACH,CAACS,MAAM,EAAEC,MAAM,KAAK;QAClBb,cAAc,CAACI,aAAa,CAAC,CAACQ,MAAM,CAAC;MACvC,CAAC,EACD;QACEE,IAAI,EAAET;MACR,CAAC,CACF;IACH;EACF;AACF,CAAC;AAED,OAAO,MAAMU,iBAAiB,GAAGb,OAAO,IAAI;EAC1C,MAAMc,MAAM,GAAG,CAAC,CAAC;EACjB,KAAK,MAAMb,GAAG,IAAID,OAAO,EAAE;IACzB,MAAMe,KAAK,GAAGf,OAAO,CAACC,GAAG,CAAC;IAC1B,IAAIc,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKC,SAAS,EAAE;MACzCF,MAAM,CAACb,GAAG,CAAC,GAAGc,KAAK;IACrB;EACF;EACA,OAAOD,MAAM;AACf,CAAC;AAED,OAAO,MAAMG,aAAa,GAAG,CAAClB,KAAK,EAAEmB,QAAQ,KAAK;EAChD,MAAMlB,OAAO,GACXkB,QAAQ,CAAClB,OAAO,IAAIkB,QAAQ,CAAClB,OAAO,CAACmB,WAAW,KAAKd,MAAM,GACvDa,QAAQ,CAAClB,OAAO,GAChB,CAAC,CAAC;EACRD,KAAK,GAAGA,KAAK,IAAIA,KAAK,CAACoB,WAAW,KAAKd,MAAM,GAAGN,KAAK,GAAG,CAAC,CAAC;EAC1D,MAAMe,MAAM,GAAGD,iBAAiB,CAACb,OAAO,CAAC;EACzCD,KAAK,GAAGc,iBAAiB,CAACd,KAAK,CAAC;EAChC,MAAMqB,YAAY,GAAGF,QAAQ,CAACG,QAAQ,CAACtB,KAAK;EAC5C,KAAK,MAAME,GAAG,IAAIF,KAAK,EAAE;IACvB,MAAMuB,GAAG,GAAGF,YAAY,CAACnB,GAAG,CAAC,GACzBmB,YAAY,CAACnB,GAAG,CAAC,CAACsB,OAAO,IACzB,OAAOH,YAAY,CAACnB,GAAG,CAAC,CAACsB,OAAO,KAAK,UAAU,GAC7CH,YAAY,CAACnB,GAAG,CAAC,CAACsB,OAAO,CAACC,IAAI,EAAE,GAChCJ,YAAY,CAACnB,GAAG,CAAC,CAACsB,OAAO,GAC3BE,MAAM,CAAC,QAAQ,CAAC;IACpB,IAAIC,OAAO,GAAG,KAAK;IACnB,IAAIpB,KAAK,CAACC,OAAO,CAACe,GAAG,CAAC,EAAE;MACtBI,OAAO,GAAGC,IAAI,CAACC,SAAS,CAACN,GAAG,CAAC,KAAKK,IAAI,CAACC,SAAS,CAAC7B,KAAK,CAACE,GAAG,CAAC,CAAC;IAC9D,CAAC,MAAM;MACLyB,OAAO,GAAGJ,GAAG,KAAKvB,KAAK,CAACE,GAAG,CAAC;IAC9B;IACA,IAAIa,MAAM,CAACb,GAAG,CAAC,IAAI,CAACyB,OAAO,EAAE;MAC3BG,OAAO,CAACC,IAAI,CACT,GAAE7B,GAAI,4DAA2D,CACnE;MACDa,MAAM,CAACb,GAAG,CAAC,GAAGF,KAAK,CAACE,GAAG,CAAC;IAC1B,CAAC,MAAM,IAAI,CAACa,MAAM,CAACb,GAAG,CAAC,EAAE;MACvBa,MAAM,CAACb,GAAG,CAAC,GAAGF,KAAK,CAACE,GAAG,CAAC;IAC1B;EACF;EACA,OAAOa,MAAM;AACf,CAAC;AAED,OAAO,MAAMiB,cAAc,GAAGC,cAAc,IAAI;EAC9C,IAAIC,KAAK,GAAG,KAAK;EACjB,OAAOD,cAAc,IAAI,CAACC,KAAK,EAAE;IAC/B,IAAID,cAAc,CAACE,SAAS,KAAKlB,SAAS,EAAE;MAC1CgB,cAAc,GAAGA,cAAc,CAACG,OAAO;IACzC,CAAC,MAAM;MACLF,KAAK,GAAG,IAAI;IACd;EACF;EACA,OAAOD,cAAc;AACvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}